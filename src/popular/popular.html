<template>
  <require from="../resources/value-converters/sort"></require>
  <require from="../resources/value-converters/pick"></require>
  <require from="../resources/value-converters/filter"></require>
  <require from="../resources/value-converters/unique"></require>

  <div class="container-fluid title-wrapper home-wrapper">
    <ul class="nav nav-tabs home-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#popular" aria-controls="popular" role="tab" data-toggle="tab"><i class="material-icons">star</i> Most Popular</a></li>
      <li role="presentation"><a href="#trending" aria-controls="trending" role="tab" data-toggle="tab"><i class="material-icons">trending_up</i> Trending Right Now</a></li>
    </ul>
  </div>

  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 cards-wrapper">
        <div class="row">
          <div class="home-tab tab-content">
            <div role="tabpanel" class="tab-pane active" id="popular">
              <template repeat.for="repo of projects | sort: { propertyName: selectedSort, direction: sortDirection}">
                <div class="clearfix" if.bind="$index % 3 == 0"></div>
                <compose view-model="../components/card" model.bind="repo"></compose>
              </template>
            </div>
            <div role="tabpanel" class="tab-pane" id="trending">
              <div class="card" style="padding-bottom:10px;">
                <h2 class='text-center'>TRENDING</h2>
                <p class="text-center">Coming soon!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12 col-btn">
        <button class="btn btn-default" click.delegate="router.navigateToRoute('explore')">Explore All Projects<i class="material-icons">keyboard_arrow_right</i></button>
      </div>
    </div>
  </div>
</template>
