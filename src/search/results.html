<template>
  <require from="../resources/value-converters/sort"></require>
  <require from="../resources/value-converters/pick"></require>
  <require from="../resources/value-converters/filter"></require>
  <require from="../resources/value-converters/unique"></require>

  <div class="container-fluid title-wrapper">
    <h2 class="page-title"><span>${projectTitle}</span></h2>
  </div>

  <div class="container-fluid">
    <div class="row flex-row">
      <div class="col-lg-11 col-lg-offset-1 cards-wrapper">
        <compose view="../components/sorting.html"></compose>
        <div class="row">
          <template
            repeat.for="repo of projects |
            sort: { propertyName: selectedSort, direction: sortDirection} |
            filter: { propertyName: 'organization', filterArray: filters.selectedOrganizations}:filters.selectedOrganizations.length |
            filter: { propertyName: 'language', filterArray: filters.selectedLanguages}:filters.selectedLanguages.length">
            <div class="clearfix"></div>
            <compose view-model="../components/card-search" model.bind="repo"></compose>
          </template>
        </div>
      </div>
    </div>
  </div>
</template>