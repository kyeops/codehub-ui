<template>
  <require from="../resources/value-converters/num"></require>

  <div class="container-fluid">
    <div class="row ${loading ? 'hidden' : ''}">
      <div class="col-lg-12 cards-wrapper insight-wrapper">
        <div class="row">
          <div class="div col-lg-3">
            <div class="card card-insight">
              <h2 class="text-center health-tiles">Organizations</h2>
              <div id="number-of-organizations" class="text-center health-num">${insights.number_of_organizations | num}</div>
            </div>
          </div>
          <div class="div col-lg-3">
            <div class="card card-insight">
              <h2 class="text-center health-tiles">Projects</h2>
              <div id="number-of-projects" class="text-center health-num">${insights.number_of_projects | num}</div>
            </div>
          </div>
          <div class="div col-lg-3">
            <div class="card card-insight">
              <h2 class="text-center health-tiles">Bugs &#38; Vulnerabilities</h2>
              <div id="bugs-vulnerabilities" class="text-center health-num">${insights.bugs_vulnerabilities | num:1}</div>
            </div>
          </div>
          <div class="div col-lg-3">
            <div class="card card-insight">
              <h2 class="text-center health-tiles">Technical Debt</h2>
              <div id="technical-debt" class="text-center health-num">${insights.technical_debt | num:2}</div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <div class="card card-insight">
              <div class="lined-header">
                <h2 class=""><span>Most Used Languages</span></h2>
              </div>
              <div id="mostUsedLanguages" class="">

              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card card-insight">
              <div class="lined-header">
                <h2 class=""><span>Top Projects by Forks</span></h2>
              </div>
              <div id="mfChart" style="width: 100%; height: 320px; border: 0px solid rgb(204, 204, 204); padding: 10px; -webkit-tap-highlight-color: transparent; -webkit-user-select: none; cursor: default; background-color: rgba(0, 0, 0, 0);"></div>

            </div>
          </div>
          <div class="col-lg-4">
            <div class="card card-insight">
              <div class="lined-header">
                <h2 class=""><span>Projects by Languages</span></h2>
              </div>
              <div id="main" style="width: 100%; height: 320px; border: 0px solid rgb(204, 204, 204); padding: 10px; -webkit-tap-highlight-color: transparent; -webkit-user-select: none; cursor: default; background-color: rgba(0, 0, 0, 0);"></div>

            </div>
          </div>
        </div>
        <div class="row">

          <div class="col-lg-12">
            <div class="card card-insight">
              <div class="lined-header">
                <span class="pull-right"><em class="text-muted">Source: <a href="#" click.trigger="openLeavingSiteConfirmation('SonarQube™', sonarqube_projects )" target="_blank">SonarQube™</a></em></span>
                <h2 class=""><span>Overall Source Code Health</span></h2>
              </div>
              <div id="main2" style="width: 100%;height:337px;"></div>
            </div>
          </div>

      </div>
    </div>
  </div>
  <div class="splash ${loading ? '' : 'hidden'}">
    <div class="loading">
        <img src="img/loading.svg" alt="Loading...">
        <span class="txt-loading text-uppercase">Loading</span>
    </div>
  </div>
</template>
