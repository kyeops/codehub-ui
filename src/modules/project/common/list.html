<template>
  <require from="../utility/sort"></require>
  <require from="../utility/pick"></require>
  <require from="../search/search-project"></require>
  <div class="container-fluid bg_main">
    <div class="row">
      <search-project></search-project>
      <div class="col-lg-12">
        <div class="page-header">
          <h1>${projectTitle}</h1>
        </div>
      </div>
    </div>

    <div class="row">
      <div repeat.for="repo of projects | sort: { propertyName: 'total_score', direction: 'descending'} | pick:20" class="clearfix col-sm-12 col-md-6 col-lg-4">
        <div class="card card-fixed">

          <div class="card-header">

            <h5 class="project-component-flex ${repo.type == undefined ? 'code' : repo.type}" >

              <span class="component-type text-uppercase"><i class="fa fa-code fa-lg ${repo.type == undefined ? 'code' : repo.type}"></i> <strong>${repo.type == undefined ? 'code' : repo.type}</strong></span>

              <span if.bind="repo.language === 'JavaScript'"><img class="project-icon" alt="JavaScript Icon" title="JavaScript Icon" src="../../img/logos/javascript.svg"></span>
              <span if.bind="repo.language === 'Ruby'"><img class="project-icon" alt="Ruby Icon" title="Ruby Icon" src="../../img/logos/ruby.svg"></span>
              <span if.bind="repo.language === 'Java'"><img class="project-icon java-icon" alt="Java Icon" title="Java Icon" src="../../img/logos/java.svg"></span>
              <span if.bind="repo.language === 'HTML'"><img class="project-icon" alt="HTML Icon" title="HTML Icon" src="../../img/logos/html5.svg"></span>
              <span if.bind="repo.language === 'Coffeescript'"><img class="project-icon coffee-icon" alt="Coffeescript Icon" title="Coffeescript Icon" src="../../img/logos/coffeescript.svg"></span>
              <span if.bind="repo.language === 'Python'"><img class="project-icon" alt="Python Icon" title="Python Icon" src="../../img/logos/python.svg"></span>
              <span if.bind="repo.language === 'Groovy'"><img class="project-icon groovy-icon" alt="Groovy Icon" title="Groovy Icon" src="../../img/logos/Groovy-logo.svg"></span>
              <span if.bind="repo.language === 'Shell'"><img class="project-icon" alt="Shell Icon" title="Shell Icon" src="../../img/logos/terminal.svg"></span>
              <span if.bind="repo.language === 'Scala'"><img class="project-icon" alt="Scala Icon" title="Scala Icon" src="../../img/logos/scala.svg"></span>
              <span if.bind="repo.language === 'null'"></span>
            </h5>

            <div class="project-info clearfix">
              <div class="col-lg-12">
                <h2 class="card-title"><a route-href="route:project-details-popular">${repo.name}</a></h2>
                <h4 class="card-subtitle text-muted">${repo.owner.login}</h4>
              </div>
            </div>

          </div>

          <div class="card-block">
            <p class="card-text">${repo.description}</p>

            <div class="card-actions">
              <a href="${repo.readme_url}" target="_blank" class="card-link"><span class="octicon octicon-book"></span> Readme</a>
            </div>

            <div class="flex-links">
              <a href="#" class="card-link"><span class="octicon octicon-file"></span> Package.json</a>
              <a href="#" class="card-link"><span class="octicon octicon-file"></span> Travis.yml</a>
            </div>
          </div>

          <div class="card-footer flex-footer">
            <span class="flex-item ">
              <span class="octicon octicon-mail"></span> Emails ${repo.email}
            </span>
            <span class="flex-item">
              <span class="octicon octicon-git-commit"></span> Commits ${repo.commits}
            </span>
            <span class="flex-item">
              <span class="octicon octicon-repo-forked"></span> Forks ${repo.forks}
            </span>
            <span class="flex-item">
              <span class="octicon octicon-organization"></span> Contributors ${repo.contributors}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
